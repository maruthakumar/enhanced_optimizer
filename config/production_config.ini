# Heavy Optimizer Platform - Production Configuration
# Version: 4.1 - Reference Compatible with Corrected Directory Structure
# Last Updated: July 27, 2025
# Status: Production Ready

[SYSTEM]
# System identification and versioning
platform_name = Heavy Optimizer Platform
version = 4.1
build_date = 2025-07-27
status = production_ready
reference_compatible = true
gpu_enabled = true

[PATHS]
# Directory structure configuration (CORRECTED)
base_directory = /mnt/optimizer_share
input_directory = /mnt/optimizer_share/input
output_base_directory = /mnt/optimizer_share/output
docs_directory = /mnt/optimizer_share/docs
config_directory = /mnt/optimizer_share/config
temp_directory = /tmp/heavydb_optimizer

# Output directory structure (Reference Compatible)
output_directory_format = run_{timestamp}
timestamp_format = %Y%m%d_%H%M%S
create_timestamped_directories = true
files_within_timestamped_directory = true

# Executable paths
workflow_script = /opt/heavydb_optimizer/optimized_reference_compatible_workflow.py

[GPU]
# GPU and HeavyDB Configuration
heavydb_enabled = true
gpu_acceleration = required
cpu_fallback_allowed = false
force_gpu_mode = true

# HeavyDB Connection Settings
heavydb_host = 127.0.0.1
heavydb_port = 6274
heavydb_database = portfolio_optimizer
heavydb_user = admin
heavydb_password = 
heavydb_protocol = binary

# GPU Processing Settings
gpu_correlation_calculation = true
gpu_matrix_operations = true
gpu_statistical_analysis = true
min_strategies_for_gpu = 10
max_correlation_matrix_size = 50000

# Performance Settings
connection_pool_size = 5
connection_timeout = 30
query_timeout = 120
correlation_chunk_size = 100

# Error Handling
fail_on_gpu_error = false
retry_on_connection_failure = true
max_connection_retries = 3
python_executable = python3

[INPUT_PROCESSING]
# Supported input formats
supported_formats = xlsx,csv
excel_extensions = .xlsx
csv_extensions = .csv
auto_format_detection = true

# Excel processing configuration
excel_processor = openpyxl
excel_read_only = true
excel_data_only = true
excel_optimization_enabled = true

# CSV processing configuration
csv_processor = pandas
csv_encoding = utf-8
csv_delimiter = ,
csv_quotechar = "

# Input validation
validate_input_files = true
max_file_size_mb = 100
min_columns = 10
min_rows = 50

[OUTPUT_GENERATION]
# Output file configuration (Reference Compatible)
generate_summary_report = true
generate_strategy_metrics = true
generate_error_log = true
generate_visualizations = true
generate_portfolio_details = true

# File naming conventions (Reference Compatible)
summary_file_format = optimization_summary_{timestamp}.txt
metrics_file_format = strategy_metrics.csv
error_log_format = error_log.txt
drawdowns_file_format = drawdowns_Best_Portfolio_Size{size}_{timestamp}.png
equity_curves_file_format = equity_curves_Best_Portfolio_Size{size}_{timestamp}.png
portfolio_file_format = Best_Portfolio_Size{size}_{timestamp}.txt

# Visualization settings
visualization_dpi = 150
visualization_format = png
visualization_width = 12
visualization_height = 6
visualization_bbox_inches = tight

[ALGORITHMS]
# Algorithm configuration
total_algorithms = 7
execution_mode = sequential
parallel_execution = false

# Individual algorithm settings
sa_enabled = true
sa_execution_time = 0.013
sa_description = Simulated Annealing - Best overall performance

ga_enabled = true
ga_execution_time = 0.024
ga_description = Genetic Algorithm - Comprehensive search

pso_enabled = true
pso_execution_time = 0.017
pso_description = Particle Swarm Optimization - Swarm intelligence

de_enabled = true
de_execution_time = 0.018
de_description = Differential Evolution - Evolutionary approach

aco_enabled = true
aco_execution_time = 0.013
aco_description = Ant Colony Optimization - Nature-inspired

bo_enabled = true
bo_execution_time = 0.009
bo_description = Bayesian Optimization - Fastest individual

rs_enabled = true
rs_execution_time = 0.109
rs_description = Random Search - Baseline comparison

# Algorithm selection
auto_select_best = true
fitness_based_selection = true
default_best_algorithm = SA

[PERFORMANCE]
# Performance optimization settings
enable_caching = true
cache_directory = /tmp/heavydb_optimizer_cache
vectorized_preprocessing = true
memory_optimization = true

# Expected performance targets
excel_target_time_seconds = 7.2
csv_target_time_seconds = 3.2
baseline_time_seconds = 12.1

# Performance monitoring
track_execution_time = true
log_performance_metrics = true
performance_improvement_threshold = 30.0

[GPU_INTEGRATION]
# A100 GPU configuration
gpu_enabled = true
gpu_type = A100
gpu_utilization_monitoring = true
gpu_memory_management = true

# GPU optimization settings
gpu_acceleration = true
gpu_memory_fraction = 0.8
gpu_allow_growth = true

[NETWORK_STORAGE]
# Samba share configuration
server_ip = 204.12.223.93
share_name = optimizer_share
username = opt_admin
protocol = smb
port = 445

# Network storage paths
network_base_path = \\204.12.223.93\optimizer_share
network_input_path = \\204.12.223.93\optimizer_share\input
network_output_path = \\204.12.223.93\optimizer_share\output
network_docs_path = \\204.12.223.93\optimizer_share\docs
network_config_path = \\204.12.223.93\optimizer_share\config

# Windows drive mapping
primary_drive_letter = L
fallback_drive_letters = M,N
persistent_mapping = false
auto_disconnect = true

[WINDOWS_INTERFACE]
# Batch file configuration
batch_file_name = Enhanced_HeavyDB_Optimizer_Launcher.bat
batch_file_version = 4.1
directory_structure_corrected = true

# Menu options
enable_complete_optimization = true
enable_hft_optimization = true
enable_custom_optimization = true
enable_batch_processing = true
enable_format_selection = true
enable_system_status = true

# Default parameters
default_portfolio_size = 35
hft_portfolio_size = 20
custom_portfolio_size_range = 10-100

[LOGGING]
# Logging configuration
enable_logging = true
log_level = INFO
log_directory = /var/log/heavydb_optimizer
log_file_format = heavydb_optimizer_{date}.log
log_rotation = daily
log_retention_days = 30

# Error handling
enable_error_logging = true
error_log_file = error_log.txt
detailed_error_messages = true
stack_trace_in_logs = true

[VALIDATION]
# System validation settings
enable_validation = true
validate_directory_structure = true
validate_file_generation = true
validate_performance = true
validate_reference_compatibility = true

# Validation thresholds
min_files_generated = 6
max_execution_time_excel = 8.0
max_execution_time_csv = 4.0
reference_compatibility_required = true

[SECURITY]
# Security settings
validate_input_paths = true
sanitize_file_names = true
restrict_file_access = true
enable_permission_checks = true

# File permissions
output_file_permissions = 644
directory_permissions = 755
config_file_permissions = 600

[MONITORING]
# System monitoring
enable_system_monitoring = true
monitor_gpu_usage = true
monitor_memory_usage = true
monitor_disk_usage = true
monitor_network_connectivity = true

# Performance monitoring
track_algorithm_performance = true
track_data_loading_time = true
track_preprocessing_time = true
track_output_generation_time = true

# Alerting thresholds
max_memory_usage_percent = 80
max_gpu_memory_usage_percent = 90
max_disk_usage_percent = 85
min_network_speed_mbps = 100

[MAINTENANCE]
# Maintenance settings
enable_automatic_cleanup = true
cleanup_temp_files = true
cleanup_old_outputs = false
cleanup_cache_files = true

# Cleanup thresholds
temp_file_retention_hours = 24
cache_file_retention_days = 7
max_output_directories = 100

[COMPATIBILITY]
# Reference implementation compatibility
reference_implementation_compatible = true
directory_structure_matches = true
file_naming_matches = true
content_format_matches = true

# Version compatibility
minimum_python_version = 3.8
required_packages = pandas,numpy,openpyxl,matplotlib
gpu_driver_minimum = 470.0

[DEPLOYMENT]
# Deployment configuration
deployment_environment = production
deployment_date = 2025-07-27
deployment_status = active
deployment_validated = true

# System requirements
minimum_ram_gb = 16
minimum_disk_space_gb = 100
required_gpu = A100
network_connectivity_required = true

[CORRELATION]
# Correlation analysis configuration
penalty_weight = 0.1
cache_enabled = true
gpu_acceleration = true
matrix_chunk_size = 5000
correlation_threshold = 0.7

# Memory management for large matrices
enable_chunked_processing = true
max_matrix_size_gb = 16
prefer_gpu_for_large_matrices = true

# Analysis settings
calculate_full_matrix = true
store_correlation_matrices = true
correlation_output_format = npy

[SUPPORT]
# Support and troubleshooting
enable_diagnostic_mode = false
generate_diagnostic_reports = true
include_system_info = true
include_performance_metrics = true

# Contact information
support_team = Heavy Optimizer Team
documentation_location = /mnt/optimizer_share/docs
configuration_location = /mnt/optimizer_share/config

[FEATURES]
# Feature flags
dual_format_support = true
reference_compatibility = true
performance_optimization = true
windows_interface = true
network_storage_integration = true
gpu_acceleration = true
automatic_algorithm_selection = true
comprehensive_reporting = true
error_handling = true
system_monitoring = true

[ZONE]
# Zone optimization configuration
enabled = true
zone_count = 4
zone_weights = 0.25,0.25,0.25,0.25
zone_selection_method = balanced
min_strategies_per_zone = 5
max_strategies_per_zone = 20
zone_diversification = true
zone_rebalancing = false

[ULTA]
# ULTA (Under-performing Long Term Algorithm) configuration
enabled = true
roi_threshold = 0.0
inversion_method = negative_daily_returns
min_negative_days = 10
negative_day_percentage = 0.6
apply_to_all_strategies = true
track_inverted_strategies = true

[OPTIMIZATION]
# Optimization parameters
apply_ulta_logic = true
balanced_mode = false
penalty_factor = 1.0
drawdown_threshold = 0
run_monte_carlo = false
optimization_metric = ratio

[DATABASE]
# Database connection configuration
type = heavydb
host = localhost
port = 6274
user = heavydb_user
password = 
database = optimizer_db
connection_timeout = 30
query_timeout = 300
connection_pool_size = 5
retry_on_failure = true
max_retries = 3

[ALGORITHM_PARAMETERS]
# Genetic Algorithm parameters
ga_population_size = 30
ga_mutation_rate = 0.1
ga_crossover_rate = 0.8
ga_generations = 50
ga_selection_method = tournament
ga_elitism_rate = 0.1
ga_tournament_size = 3

# Particle Swarm Optimization parameters
pso_swarm_size = 25
pso_inertia_weight = 0.9
pso_cognitive_coefficient = 2.0
pso_social_coefficient = 2.0
pso_max_velocity = 0.5
pso_iterations = 50
pso_min_inertia = 0.4
pso_max_inertia = 0.9

# Simulated Annealing parameters
sa_initial_temperature = 1000.0
sa_final_temperature = 0.01
sa_cooling_rate = 0.95
sa_max_iterations = 1000
sa_acceptance_probability = boltzmann

# Differential Evolution parameters
de_population_size = 30
de_mutation_factor = 0.8
de_crossover_probability = 0.7
de_strategy = best_1_bin
de_generations = 50

# Ant Colony Optimization parameters
aco_colony_size = 20
aco_alpha = 1.0
aco_beta = 2.0
aco_evaporation_rate = 0.5
aco_pheromone_deposit = 1.0
aco_iterations = 50

# Hill Climbing parameters
hc_max_iterations = 200
hc_neighborhood_size = 10
hc_restart_threshold = 10
hc_step_size = 1

# Bayesian Optimization parameters
bo_acquisition_function = expected_improvement
bo_kernel = matern
bo_n_initial_points = 10
bo_n_calls = 50
bo_random_state = 42

# Random Search parameters
rs_iterations = 1000
rs_random_seed = 42
rs_sampling_method = uniform

[PORTFOLIO_OPTIMIZATION]
# Portfolio size and constraint configuration
min_portfolio_size = 10
max_portfolio_size = 100
default_portfolio_size = 35
hft_portfolio_size = 20
allow_variable_size = true
enforce_zone_constraints = true
max_correlation_threshold = 0.7
min_diversification_ratio = 0.5

[ZONE_OPTIMIZATION]
# Zone-based optimization for intraday analysis
# Note: Requires consolidated CSV with Zone column from Strategy_consolidator.py
enabled = true
zone_method = equal
num_zones = 4
market_open_time = 09:15:00
market_close_time = 15:30:00
zone_weights = 1,1,1,1
apply_ulta = true
# Zone-specific portfolio constraints
zone_specific_min_size = 10
zone_specific_max_size = 50
