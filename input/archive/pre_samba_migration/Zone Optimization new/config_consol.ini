# config_consol.ini
#
# This configuration file defines the various file formats that the Strategy Consolidator can process.
# Each [FORMAT_X_*] section specifies the input folder (relative to the main directory's Input folder),
# the expected column names, date formats, and other relevant parameters.
#
# Folder Structure:
#   Place the config_consol.ini and Strategy_consolidator_zone.py files in your main directory.
#   Create an "Input" folder in the main directory.
#   Under "Input", create sub-folders for each file source as specified below.
#
# Example Directory Structure:
#   Main_Directory/
#     ├── config_consol.ini
#     ├── Strategy_consolidator_zone.py
#     ├── Input/
#     │    ├── Backinzo_Files/            <-- For FORMAT_1_BACKINZO_CSV files
#     │    ├── Python_Files/              <-- For FORMAT_2_PYTHON_XLSX files
#     │    ├── TV_Files/                  <-- For FORMAT_3_TRADING_VIEW_CSV files
#     │    ├── Consolidated_Files/        <-- For FORMAT_4_CONSOLIDATED_XLSX files
#     │    ├── Backinzo_Multi_Files/       <-- For FORMAT_5_BACKINZO_Multi_CSV files
#     │    ├── Python_Multi_Files/         <-- For FORMAT_6_PYTHON_MULTI_XLSX files
#     │    └── TV_Zone_Files/              <-- For FORMAT_7_TradingView_Zone files
#     ├── Output/
#     │    └── Optimize/                  <-- Consolidated output will be saved here
#     └── log/                           <-- Log files will be saved here
#
# -------------------------------------------------------------------------------
#
# [FORMAT_1_BACKINZO_CSV]
# - Description: CSV files from Backinzo.
# - folder: Sub-folder under "Input" (e.g., Backinzo_Files)
# - date_column_name: Name of the date column.
# - pnl_column_name: Name of the Profit/Loss column.
# - date_format: Primary date format(s), separated by commas.
# - date_format1, date_format2: Additional date formats (for pre‑processing if needed).
[FORMAT_1_BACKINZO_CSV]
folder = Backinzo_Files
date_column_name = Date
pnl_column_name = P/L
date_format = %d-%b-%Y %H:%M:%S,%Y-%m-%d %H:%M:%S,%d-%b-%Y
date_format1 = %d-%b-%Y %H:%M:%S,%Y-%m-%d %H:%M:%S,%d-%b-%Y,%d/%m/%Y,%m/%d/%Y,%Y/%m/%d
date_format2 = %d-%b-%Y

# -------------------------------------------------------------------------------
#
# [FORMAT_2_PYTHON_XLSX]
# - Description: Excel files from Python sources.
# - sheet_name: The sheet to read (e.g., "PORTFOLIO Trans").
# - date_column_name: Column name for dates (e.g., "Exit Date").
# - pnl_column_name: Column name for PNL.
# - folder: Sub-folder under "Input" (e.g., Python_Files)
# - date_format: Primary date format (use %% for literal % symbols).
[FORMAT_2_PYTHON_XLSX]
sheet_name = PORTFOLIO Trans
date_column_name = Exit Date
pnl_column_name = Net PNL
folder = Python_Files
date_format = %%Y-%%m-%%d

# -------------------------------------------------------------------------------
#
# [FORMAT_3_TRADING_VIEW_CSV]
# - Description: CSV files exported from TradingView.
# - sheet_name: (Optional) Sheet to read if the file is Excel; otherwise, CSV reading is attempted.
# - folder: Sub-folder under "Input" (e.g., TV_Files)
# - date_column_name: Column name for Date/Time.
# - pnl_column_name: Comma-separated list of possible PNL column names.
# - date_format: Primary date format(s) for parsing, separated by commas.
[FORMAT_3_TRADING_VIEW_CSV]
sheet_name = List of trades
folder = TV_Files
date_column_name = Date/Time
pnl_column_name = Profit INR,Profit USD,Profit_,Profit USD,Profit
date_format = %%Y-%%m-%%d %%H:%%M:%%S,%%d-%%m-%%Y %%H:%%M:%%S,%%Y-%%m-%%d %%H:%%M,%%d-%%m-%%Y %%H:%%M,%d-%%m-%%Y %H:%M:%S,%%Y-%%m-%%d %H:%M:%S

# -------------------------------------------------------------------------------
#
# [FORMAT_4_CONSOLIDATED_XLSX]
# - Description: Excel files that are already consolidated.
# - sheet_name: The sheet name to read (e.g., "2.1").
# - date_column_name: Column for the date.
# - pnl_column_name: Column for Profit.
# - folder: Sub-folder under "Input" (e.g., Consolidated_Files)
# - date_format: Primary date format.
[FORMAT_4_CONSOLIDATED_XLSX]
sheet_name = 2.1
date_column_name = Date
pnl_column_name = Profit
folder = Consolidated_Files
date_format = %%d-%%m-%%Y

# -------------------------------------------------------------------------------
#
# [FORMAT_5_BACKINZO_Multi_CSV]
# - Description: Multiple CSV files from Backinzo.
# - folder: Sub-folder under "Input" (e.g., Backinzo_Multi_Files)
# - date_column_name: Column name for date.
# - date_format: Primary date format.
# - date_format1, date_format2: Additional date formats.
[FORMAT_5_BACKINZO_Multi_CSV]
folder = Backinzo_Multi_Files
date_column_name = Date
date_format = %d-%b-%Y
date_format1 = %d-%b-%Y %H:%M:%S,%Y-%m-%d %H:%M:%S,%d-%b-%Y,%d/%m/%Y,%m/%d/%Y,%Y/%m/%d
date_format2 = %d-%b-%Y

# -------------------------------------------------------------------------------
#
# [FORMAT_6_PYTHON_MULTI_XLSX]
# - Description: Multiple Excel files from Python sources.
# - folder: Sub-folder under "Input" (e.g., Python_Multi_Files)
# - date_column_name: Column for date (e.g., "Exit Date").
# - pnl_column_name: Column for PNL.
# - date_format: Primary date format.
[FORMAT_6_PYTHON_MULTI_XLSX]
folder = Python_Multi_Files
date_column_name = Exit Date
pnl_column_name = Net PNL
date_format = %%Y-%%m-%%d

# -------------------------------------------------------------------------------
#
# [FORMAT_7_TradingView_Zone]
# - Description: Excel files from TradingView containing zone-based strategy data.
#   The script will:
#     • Read the specified sheet (e.g., "List of trades").
#     • Filter rows where the second column contains the keyword "entry" (case-insensitive).
#     • Parse the date using the provided date format.
#     • Assign a trading zone based on market open/close times and the chosen zone method.
#     • Rename the first PNL column from the comma-separated list.
#     • Add columns for Strategy (derived from the filename), Date (formatted as YYYY-MM-DD), and Day.
# - folder: Sub-folder under "Input" (e.g., TV_Zone_Files)
# - sheet_name: Sheet name to read (e.g., "List of trades")
# - date_column_name: Column name for Date/Time.
# - entry_column_name: Column used to filter rows (should contain "entry").
# - date_format: Primary date format.
# - pnl_column_name: Comma-separated list of PNL column names.
# - market_open_time: Market open time (e.g., "09:30:00").
# - market_close_time: Market close time (e.g., "16:00:00").
# - zone_method: Method for assigning zones ("equal", "freeform", or "custom").
# - num_zones: Number of zones (used if zone_method is "equal").
# - freeform_zone_boundaries: Boundary times if zone_method is "freeform".
# - custom_zone_windows: Time windows if zone_method is "custom".
# - merge_keys: Keys used when merging data. Updated to include 'ExactTimestamp' for uniqueness.
[FORMAT_7_TradingView_Zone]
folder = TV_Zone_Files
sheet_name = List of trades
date_column_name = Date/Time
entry_column_name = entry
date_format = %Y-%m-%d %H:%M:%S
pnl_column_name = Profit INR,Profit USD,Profit,Profit_
market_open_time = 16:00:00
market_close_time = 23:30:00
zone_method = equal
num_zones = 4
freeform_zone_boundaries =
custom_zone_windows =
merge_keys = Date,Zone


#[FORMAT_8_PYTHON_MULTI_ZONE_XLSX]
; NEW FORMAT: Python Multi-Zone XLSX
; This format processes multi-sheet Excel workbooks containing both a date and a time column.
; It combines "Entry Date" and "Entry On" into one datetime, assigns zones based on market times,
; and builds the strategy name as follows:
;  - If the workbook contains a sheet named "TV Setting" and a sheet named "Portfolio Trans":
;       Process only the "Portfolio Trans" sheet and use the Excel file's base name as the strategy.
;  - Otherwise, process sheets ending with "Trans" normally and build strategy names as <ExcelFileName>_<SheetNameWithoutTrans>.
[FORMAT_8_PYTHON_MULTI_ZONE_XLSX]
folder = Python_Multi_Zone_Files
date_column_name = Entry Date
time_column_name = Enter On
pnl_column_name = PNL
date_format = %%Y-%%m-%%d
time_format = %H:%M:%S
market_open_time = 09:15:00
market_close_time = 15:30:00
zone_method = equal
num_zones = 4
freeform_zone_boundaries =
custom_zone_windows =
merge_keys = Date,Zone
# -------------------------------------------------------------------------------
#
# [DEBUG]
# - enable_debug: Set to "yes" to enable detailed debug logging.
[DEBUG]
enable_debug = yes

# -------------------------------------------------------------------------------
#
# [TELEGRAM]
# - disable_on_error: If "yes", disable Telegram notifications when an error occurs.
# - max_retries: Maximum number of retries for sending Telegram notifications.
# - retry_delay: Delay (in seconds) between retries.
[TELEGRAM]
disable_on_error = no
max_retries = 3
retry_delay = 5
